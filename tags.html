<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>タグ検索 - 総合解説プラットフォーム</title>

    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/tags.css">

    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script src="js/mathjax-config.js"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<body>
    <header>
        <a href="index.html" class="header-link">
            <h1>総合解説プラットフォーム <span class="subtitle">あらゆる疑問に、明快な解答を。</span></h1>
        </a>
    </header>

    <nav>
        <ul>
            <li><a href="index.html">トップ</a></li>
            <li><a href="contents.html">コンテンツ</a></li>
            <li><a href="tags.html">タグ検索</a></li>
        </ul>
    </nav>

    <div class="main-container">
        <h2 class="section-title">記事・コンテンツ検索</h2>

        <!-- 絞り込み操作のコントロールエリア -->
        <div class="filter-controls">
            <!-- ★★★ HTML構造を修正 ★★★ -->
            <div class="keyword-search-wrapper">
                <input type="search" id="keyword-search-input" placeholder="キーワードで検索...">
            </div>
            <div class="tag-filter-wrapper">
                <button id="open-filter-modal-btn">タグで絞り込み</button>
                <div id="active-tags-display"></div>
            </div>
        </div>

        <!-- 検索結果表示エリア -->
        <div id="search-results-container">
            <h2 id="results-title">全ての記事とコンテンツ</h2>
            <div id="results-grid" class="content-grid"></div>
            <div id="tags-pagination-container" class="pagination-container"></div>
        </div>
    </div>

    <!-- 絞り込み用モーダルウィンドウ (変更なし) -->
    <div id="filter-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <h3>タグで絞り込む</h3>
                <button id="close-filter-modal-btn" class="close-btn">×</button>
            </div>
            <div class="modal-body">
                <div class="tag-search-wrapper">
                    <input type="search" id="tag-search-input" placeholder="タグを検索...">
                </div>
                <div id="tag-list-container">
                    <p>タグを読み込み中...</p>
                </div>
            </div>
            <div class="modal-footer">
                <button id="reset-tags-btn">リセット</button>
                <button id="apply-tags-btn">この条件で表示する</button>
            </div>
        </div>
    </div>

    <footer>
        <p>© 2025 総合解説プラットフォーム. All rights reserved.</p>
    </footer>

    <button id="scrollTopBtn" title="トップへ戻る">⇧</button>

    <script src="js/common.js"></script>
    <script src="js/article-list.js"></script>
    <script src="js/article-loader.js"></script>
    <script src="js/tags.js"></script>
</body>

</html>
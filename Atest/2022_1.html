<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2022年度 電気数学 達成度確認テスト</title>
    
    <!-- MathJaxの読み込みと設定 -->
    <script>
        MathJax = {
            tex: {
                inlineMath: [['\\(', '\\)']],
                displayMath: [['$$', '$$']]
            },
            chtml: {
                linebreaks: { automatic: true }
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 15px;
            background-color: #f4f4f9;
            color: #333;
        }
        h1 {
            font-size: 1.5em;
            color: #4a4a4a;
            border-bottom: 2px solid #007bff;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        #quiz-container {
            margin-bottom: 20px;
        }
        .question-block {
            background-color: #fff;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        .question-block p {
            font-size: 1.1em;
            margin-top: 0;
        }
        .options label {
            display: block;
            background-color: #f9f9f9;
            border: 1px solid #eee;
            border-radius: 5px;
            padding: 10px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .options label:hover {
            background-color: #eef8ff;
        }
        .options input[type="radio"]:disabled + span {
            color: #888;
        }
        .options label.selected.correct {
            background-color: #d4edda;
            border-color: #c3e6cb;
        }
        .options label.selected.incorrect {
            background-color: #f8d7da;
            border-color: #f5c6cb;
        }
        .options input[type="radio"] {
            margin-right: 10px;
        }
        .result {
            margin-top: 15px;
            font-weight: bold;
            padding: 10px;
            border-radius: 5px;
        }
        .result.correct {
            color: #155724;
            background-color: #d4edda;
            border: 1px solid #c3e6cb;
        }
        .result.incorrect {
            color: #721c24;
            background-color: #f8d7da;
            border: 1px solid #f5c6cb;
        }
        .explanation {
            margin-top: 10px;
            padding: 15px;
            background-color: #e9ecef;
            border-left: 4px solid #007bff;
            border-radius: 5px;
            display: none;
            overflow-x: auto;
        }
    </style>
</head>
<body>

    <h1>2022年度第1回達成度確認テスト 電気数学</h1>

    <div id="quiz-container">
        <!-- 問題 1 -->
        <div class="question-block" id="q1a">
            <p><strong>1. (a)</strong> \(f(t) = -f(-t)\) を満たす関数 \(f(t)\) は (ア) である。</p>
            <div class="options">
                <label><input type="radio" name="q1a" value="1"><span> ① \(\sin t\)</span></label>
                <label><input type="radio" name="q1a" value="2"><span> ② \(\cos t\)</span></label>
                <label><input type="radio" name="q1a" value="3"><span> ③ \(e^t\)</span></label>
                <label><input type="radio" name="q1a" value="4"><span> ④ \(\log t\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q1b">
            <p><strong>1. (b)</strong> \(f(t) = f(-t)\) を満たす関数 \(f(t)\) は (イ) である。</p>
            <div class="options">
                <label><input type="radio" name="q1b" value="1"><span> ① \(\sin t\)</span></label>
                <label><input type="radio" name="q1b" value="2"><span> ② \(\cos t\)</span></label>
                <label><input type="radio" name="q1b" value="3"><span> ③ \(e^t\)</span></label>
                <label><input type="radio" name="q1b" value="4"><span> ④ \(\log t\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q1c">
            <p><strong>1. (c)</strong> \(f(at) = af(t), (a \ne 0)\) を満たす関数 \(f(t)\) は (ウ) である。</p>
            <div class="options">
                <label><input type="radio" name="q1c" value="1"><span> ① 1</span></label>
                <label><input type="radio" name="q1c" value="2"><span> ② \(t\)</span></label>
                <label><input type="radio" name="q1c" value="3"><span> ③ \(t^2\)</span></label>
                <label><input type="radio" name="q1c" value="4"><span> ④ \(1/t\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q1d">
            <p><strong>1. (d)</strong> \(f(s+t) = f(s) + f(t)\) を満たす関数 \(f(t)\) は (エ) である。</p>
            <div class="options">
                <label><input type="radio" name="q1d" value="1"><span> ① 1</span></label>
                <label><input type="radio" name="q1d" value="2"><span> ② \(t\)</span></label>
                <label><input type="radio" name="q1d" value="3"><span> ③ \(t^2\)</span></label>
                <label><input type="radio" name="q1d" value="4"><span> ④ \(1/t\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q1e">
            <p><strong>1. (e)</strong> \(f(t) \ge 0\) を満たす関数 \(f(t)\) は (オ) である。</p>
            <div class="options">
                <label><input type="radio" name="q1e" value="1"><span> ① \(t\)</span></label>
                <label><input type="radio" name="q1e" value="2"><span> ② \(t^2\)</span></label>
                <label><input type="radio" name="q1e" value="3"><span> ③ \(t^3\)</span></label>
                <label><input type="radio" name="q1e" value="4"><span> ④ \(1/t\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <!-- 問題 2 -->
        <div class="question-block" id="q2a">
            <p><strong>2. (a)</strong> \(\sin\frac{\pi}{6} = (\text{カ})\)</p>
            <div class="options">
                <label><input type="radio" name="q2a" value="1"><span> ① \(\frac{1}{2}\)</span></label>
                <label><input type="radio" name="q2a" value="2"><span> ② \(-\frac{1}{2}\)</span></label>
                <label><input type="radio" name="q2a" value="3"><span> ③ \(\frac{\sqrt{3}}{2}\)</span></label>
                <label><input type="radio" name="q2a" value="4"><span> ④ \(\frac{1}{4}\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q2b">
            <p><strong>2. (b)</strong> \(\sqrt{3}\sin x - \cos x = (\text{キ})\)</p>
            <div class="options">
                <label><input type="radio" name="q2b" value="1"><span> ① \(2\sin(x-\frac{\pi}{6})\)</span></label>
                <label><input type="radio" name="q2b" value="2"><span> ② \(2\cos(x-\frac{\pi}{6})\)</span></label>
                <label><input type="radio" name="q2b" value="3"><span> ③ \(\sin(x-\frac{\pi}{6})\)</span></label>
                <label><input type="radio" name="q2b" value="4"><span> ④ \(4\sin(x-\frac{\pi}{6})\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q2c">
            <p><strong>2. (c)</strong> \(\sin\frac{\pi}{12}\cos\frac{\pi}{12} = (\text{ク})\)</p>
            <div class="options">
                <label><input type="radio" name="q2c" value="1"><span> ① \(\frac{\sqrt{2}+\sqrt{6}}{4}\)</span></label>
                <label><input type="radio" name="q2c" value="2"><span> ② \(\frac{2+\sqrt{3}}{2}\)</span></label>
                <label><input type="radio" name="q2c" value="3"><span> ③ \(\frac{2+\sqrt{3}}{4}\)</span></label>
                <label><input type="radio" name="q2c" value="4"><span> ④ \(\frac{1}{4}\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q2d">
            <p><strong>2. (d)</strong> \(\sin 2\theta = (\text{ケ})\)</p>
            <div class="options">
                <label><input type="radio" name="q2d" value="1"><span> ① \(2\sin\theta\cos\theta\)</span></label>
                <label><input type="radio" name="q2d" value="2"><span> ② \(2\sin^2\theta-1\)</span></label>
                <label><input type="radio" name="q2d" value="3"><span> ③ \(2\cos^2\theta-1\)</span></label>
                <label><input type="radio" name="q2d" value="4"><span> ④ \(2\sin\theta-2\cos\theta\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q2e">
            <p><strong>2. (e)</strong> \(\cos(\theta+\pi) = (\text{コ})\)</p>
            <div class="options">
                <label><input type="radio" name="q2e" value="1"><span> ① \(\sin\theta\)</span></label>
                <label><input type="radio" name="q2e" value="2"><span> ② \(-\sin\theta\)</span></label>
                <label><input type="radio" name="q2e" value="3"><span> ③ \(\cos\theta\)</span></label>
                <label><input type="radio" name="q2e" value="4"><span> ④ \(-\cos\theta\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <!-- 問題 3 -->
        <div class="question-block" id="q3a">
            <p><strong>3. (a)</strong> \(3+j4\)の共役は (サ) である。</p>
            <div class="options">
                <label><input type="radio" name="q3a" value="1"><span> ① \(3-j4\)</span></label>
                <label><input type="radio" name="q3a" value="2"><span> ② \(-3+j4\)</span></label>
                <label><input type="radio" name="q3a" value="3"><span> ③ \(4+j3\)</span></label>
                <label><input type="radio" name="q3a" value="4"><span> ④ \(4-j3\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q3b">
            <p><strong>3. (b)</strong> \(2\angle30^\circ\)の共役は (シ) である。</p>
            <div class="options">
                <label><input type="radio" name="q3b" value="1"><span> ① \(2\angle-30^\circ\)</span></label>
                <label><input type="radio" name="q3b" value="2"><span> ② \(-2\angle30^\circ\)</span></label>
                <label><input type="radio" name="q3b" value="3"><span> ③ \(2\angle60^\circ\)</span></label>
                <label><input type="radio" name="q3b" value="4"><span> ④ \(2\angle-60^\circ\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q3c">
            <p><strong>3. (c)</strong> \(6\angle20^\circ \times 3\angle-10^\circ = (\text{ス})\)</p>
            <div class="options">
                <label><input type="radio" name="q3c" value="1"><span> ① \(18\angle0^\circ\)</span></label>
                <label><input type="radio" name="q3c" value="2"><span> ② \(18\angle10^\circ\)</span></label>
                <label><input type="radio" name="q3c" value="3"><span> ③ \(18\angle-10^\circ\)</span></label>
                <label><input type="radio" name="q3c" value="4"><span> ④ \(-18\angle0^\circ\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q3d">
            <p><strong>3. (d)</strong> 正弦波交流電圧 \(v(t) = 50\sqrt{2}\sin(\omega t + \frac{\pi}{4})\) [V] の実効値フェーザを極座標形式で表わすと (セ) [V] である。</p>
            <div class="options">
                <label><input type="radio" name="q3d" value="1"><span> ① \(50\sqrt{2}e^{j\frac{\pi}{4}}\)</span></label>
                <label><input type="radio" name="q3d" value="2"><span> ② \(50e^{j\frac{\pi}{3}}\)</span></label>
                <label><input type="radio" name="q3d" value="3"><span> ③ \(50\sqrt{2}e^{j\frac{\pi}{3}}\)</span></label>
                <label><input type="radio" name="q3d" value="4"><span> ④ \(50e^{j\frac{\pi}{4}}\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q3e">
            <p><strong>3. (e)</strong> 正弦波交流電圧 \(v(t) = 100\cos(\omega t - \frac{\pi}{3})\) [V] の実効値フェーザを直交座標形式で表わすと (ソ) [V] である。</p>
            <div class="options">
                <label><input type="radio" name="q3e" value="1"><span> ① \(50+j50\)</span></label>
                <label><input type="radio" name="q3e" value="2"><span> ② \(50-j50\)</span></label>
                <label><input type="radio" name="q3e" value="3"><span> ③ \(100+j100\)</span></label>
                <label><input type="radio" name="q3e" value="4"><span> ④ \(100-j100\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>
        
        <!-- 問題 4 -->
        <div class="question-block" id="q4a">
            <p><strong>4. (a)</strong> \( \frac{dx(t)}{dt} + 2x = 0 \) を満たす \(x\) は (タ) である。</p>
            <div class="options">
                <label><input type="radio" name="q4a" value="1"><span> ① \( e^{-0.5t} \)</span></label>
                <label><input type="radio" name="q4a" value="2"><span> ② \( e^{-t} \)</span></label>
                <label><input type="radio" name="q4a" value="3"><span> ③ \( e^{-2t} \)</span></label>
                <label><input type="radio" name="q4a" value="4"><span> ④ \( e^{0.5t} \)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>
        
        <div class="question-block" id="q4b">
            <p><strong>4. (b)</strong> \( \frac{dx(t)}{dt} + 2x = 1 \) を満たす \(x\) は (チ) である。</p>
            <div class="options">
                <label><input type="radio" name="q4b" value="1"><span> ① \( t \)</span></label>
                <label><input type="radio" name="q4b" value="2"><span> ② \( e^{-t} \)</span></label>
                <label><input type="radio" name="q4b" value="3"><span> ③ \( 0.5 \)</span></label>
                <label><input type="radio" name="q4b" value="4"><span> ④ \( e^{-2t} \)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q4c">
            <p><strong>4. (c)</strong> \( \frac{d^2x(t)}{dt^2} + x = 0 \) を満たす \(x\) は (ツ) である。</p>
            <div class="options">
                <label><input type="radio" name="q4c" value="1"><span> ① \( \sin t \)</span></label>
                <label><input type="radio" name="q4c" value="2"><span> ② \( \sin^2 t \)</span></label>
                <label><input type="radio" name="q4c" value="3"><span> ③ \( \tan t \)</span></label>
                <label><input type="radio" name="q4c" value="4"><span> ④ \( \sinh t \)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>
        
        <div class="question-block" id="q4d">
            <p><strong>4. (d)</strong> \( \frac{dx(t)}{dt} = x(1-x) \) を満たす \(x\) は (テ) である。</p>
            <div class="options">
                <label><input type="radio" name="q4d" value="1"><span> ① \( \frac{e^t}{1-e^t} \)</span></label>
                <label><input type="radio" name="q4d" value="2"><span> ② \( \frac{e^t}{1+e^t} \)</span></label>
                <label><input type="radio" name="q4d" value="3"><span> ③ \( \frac{-e^t}{1+e^t} \)</span></label>
                <label><input type="radio" name="q4d" value="4"><span> ④ \( \frac{-e^t}{1-e^t} \)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q4e">
            <p><strong>4. (e)</strong> \( \frac{dx(t)}{dt} + x^2 = 0 \) を満たす \(x(t)\) は (ト) である。</p>
            <div class="options">
                <label><input type="radio" name="q4e" value="1"><span> ① \( \sin 2t \)</span></label>
                <label><input type="radio" name="q4e" value="2"><span> ② \( \sin \sqrt{t} \)</span></label>
                <label><input type="radio" name="q4e" value="3"><span> ③ \( 1/t^2 \)</span></label>
                <label><input type="radio" name="q4e" value="4"><span> ④ \( 1/t \)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <!-- 問題 5 -->
        <div class="question-block" id="q5a">
            <p><strong>5. (a)</strong> (ナ) はベクトル\(\mathbf{A}\)、\(\mathbf{B}\)の外積である。</p>
            <div class="options">
                <label><input type="radio" name="q5a" value="1"><span> ① \(\mathbf{AB}\)</span></label>
                <label><input type="radio" name="q5a" value="2"><span> ② \(\mathbf{A} \cdot \mathbf{B}\)</span></label>
                <label><input type="radio" name="q5a" value="3"><span> ③ \(\mathbf{A} \times \mathbf{B}\)</span></label>
                <label><input type="radio" name="q5a" value="4"><span> ④ \(\mathbf{A} * \mathbf{B}\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q5b">
            <p><strong>5. (b)</strong> (ニ) は\(\mathbf{A}\)の発散である。</p>
            <div class="options">
                <label><input type="radio" name="q5b" value="1"><span> ① \(\nabla\mathbf{A}\)</span></label>
                <label><input type="radio" name="q5b" value="2"><span> ② \(\nabla \cdot \mathbf{A}\)</span></label>
                <label><input type="radio" name="q5b" value="3"><span> ③ \(\nabla \times \mathbf{A}\)</span></label>
                <label><input type="radio" name="q5b" value="4"><span> ④ \(\nabla * \mathbf{A}\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q5c">
            <p><strong>5. (c)</strong> \(2\mathbf{i}+\mathbf{j}-2\mathbf{k}\)の大きさは (ヌ) である。</p>
            <div class="options">
                <label><input type="radio" name="q5c" value="1"><span> ① 1</span></label>
                <label><input type="radio" name="q5c" value="2"><span> ② 2</span></label>
                <label><input type="radio" name="q5c" value="3"><span> ③ 3</span></label>
                <label><input type="radio" name="q5c" value="4"><span> ④ 4</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q5d">
            <p><strong>5. (d)</strong> \((i+2j-3k) \cdot (j-2k)\) は (ネ) である。</p>
            <div class="options">
                <label><input type="radio" name="q5d" value="1"><span> ① 2</span></label>
                <label><input type="radio" name="q5d" value="2"><span> ② 8</span></label>
                <label><input type="radio" name="q5d" value="3"><span> ③ \(2j+6k\)</span></label>
                <label><input type="radio" name="q5d" value="4"><span> ④ \(-i+2j+k\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>

        <div class="question-block" id="q5e">
            <p><strong>5. (e)</strong> \(\text{rot}(2x\mathbf{i}+y\mathbf{j})\) は (ノ) である。</p>
            <div class="options">
                <label><input type="radio" name="q5e" value="1"><span> ① 0または\(\mathbf{0}\)</span></label>
                <label><input type="radio" name="q5e" value="2"><span> ② 3</span></label>
                <label><input type="radio" name="q5e" value="3"><span> ③ \(2\mathbf{i}+\mathbf{j}\)</span></label>
                <label><input type="radio" name="q5e" value="4"><span> ④ \(-\mathbf{i}+2\mathbf{j}-\mathbf{k}\)</span></label>
            </div>
            <div class="result" style="display:none;"></div><div class="explanation"></div>
        </div>
    </div>

    <script>
        const quizData = {
            'q1a': { answer: '1', explanation: '<h3>解説 (1-a)</h3><p>\\(f(t) = -f(-t)\\) は奇関数（原点対称のグラフを持つ関数）の定義です。\\(\\sin(-t) = -\\sin t\\) なので、\\(f(t)=\\sin t\\) は奇関数です。よって、正解は①です。</p>' },
            'q1b': { answer: '2', explanation: '<h3>解説 (1-b)</h3><p>\\(f(t) = f(-t)\\) は偶関数（y軸対称のグラフを持つ関数）の定義です。\\(\\cos(-t) = \\cos t\\) なので、\\(f(t)=\\cos t\\) は偶関数です。よって、正解は②です。</p>' },
            'q1c': { answer: '2', explanation: '<h3>解説 (1-c)</h3><p>この性質を持つのは1次関数 \\(f(t)=ct\\) です。\\(f(at) = c(at)\\) と \\(af(t) = a(ct)\\) が等しくなります。選択肢の中では \\(f(t)=t\\) (c=1の場合) が該当します。よって、正解は②です。</p>' },
            'q1d': { answer: '2', explanation: '<h3>解説 (1-d)</h3><p>この性質（加法性）を持つのは1次関数 \\(f(t)=ct\\) です。\\(f(s+t) = c(s+t)\\) と \\(f(s)+f(t) = cs+ct\\) が等しくなります。選択肢の中では \\(f(t)=t\\) が該当します。よって、正解は②です。</p>' },
            'q1e': { answer: '2', explanation: '<h3>解説 (1-e)</h3><p>定義域内のすべての\\(t\\)に対して \\(f(t) \\ge 0\\) となる関数を選びます。\\(f(t)=t^2\\) は実数\\(t\\)に対して常に0以上の値を取ります。他の選択肢は負の値を取り得ます。よって、正解は②です。</p>' },
            'q2a': { answer: '1', explanation: '<h3>解説 (2-a)</h3><p>\\(\\sin(\\pi/6)\\) は \\(\\sin(30^\circ)\\) のことであり、値は \\(1/2\\) です。よって、正解は①です。</p>' },
            'q2b': { answer: '1', explanation: '<h3>解説 (2-b)</h3><p>三角関数の合成を行います。$$ \\begin{align} \\sqrt{3}\\sin x - 1\\cos x &= \\sqrt{(\\sqrt{3})^2+(-1)^2} \\sin(x+\\alpha) \\\\ &= 2 \\sin(x+\\alpha) \\end{align} $$ ただし、\\(\\cos\\alpha = \\frac{\\sqrt{3}}{2}, \\sin\\alpha = \\frac{-1}{2}\\) なので、\\(\\alpha = -\\frac{\\pi}{6}\\) となります。よって、\\(2\\sin(x-\\frac{\pi}{6})\\) となり、正解は①です。</p>' },
            'q2c': { answer: '4', explanation: '<h3>解説 (2-c)</h3><p>\\(\\sin\\) の2倍角の公式 \\(\\sin 2\\theta = 2\\sin\\theta\\cos\\theta\\) を利用します。この式を変形すると \\(\\sin\\theta\\cos\\theta = \\frac{1}{2}\\sin 2\\theta\\) となります。\\(\\theta = \\frac{\\pi}{12}\\) を代入すると、$$ \\sin\\frac{\\pi}{12}\\cos\\frac{\\pi}{12} = \\frac{1}{2}\\sin(2 \\cdot \\frac{\\pi}{12}) = \\frac{1}{2}\\sin\\frac{\\pi}{6} = \\frac{1}{2} \\cdot \\frac{1}{2} = \\frac{1}{4} $$ よって、正解は④です。</p>' },
            'q2d': { answer: '1', explanation: '<h3>解説 (2-d)</h3><p>三角関数の2倍角の公式そのものです。\\(\\sin 2\\theta = 2\\sin\\theta\\cos\\theta\\) が成立します。よって、正解は①です。</p>' },
            'q2e': { answer: '4', explanation: '<h3>解説 (2-e)</h3><p>\\(\\cos\\) の加法定理 \\(\\cos(A+B) = \\cos A \\cos B - \\sin A \\sin B\\) を利用します。$$ \\cos(\\theta+\\pi) = \\cos\\theta\\cos\\pi - \\sin\\theta\\sin\\pi = (\\cos\\theta)(-1) - (\\sin\\theta)(0) = -\\cos\\theta $$ よって、正解は④です。</p>' },
            'q3a': { answer: '1', explanation: '<h3>解説 (3-a)</h3><p>共役複素数は、虚数部の符号を反転させたものです。\\(3+j4\\) の共役複素数は \\(3-j4\\) です。よって、正解は①です。</p>' },
            'q3b': { answer: '1', explanation: '<h3>解説 (3-b)</h3><p>極座標表示された複素数の共役は、偏角の符号を反転させることで得られます。\\(2\\angle30^\\circ\\) の共役は \\(2\\angle-30^\\circ\\) です。よって、正解は①です。</p>' },
            'q3c': { answer: '2', explanation: '<h3>解説 (3-c)</h3><p>極座標表示された複素数の積は、絶対値は積を、偏角は和をとることで計算できます。$$ (6 \\times 3) \\angle (20^\\circ + (-10^\\circ)) = 18\\angle10^\\circ $$ よって、正解は②です。</p>' },
            'q3d': { answer: '4', explanation: '<h3>解説 (3-d)</h3><p>瞬時値 \\(v(t) = V_m \\sin(\\omega t + \\phi)\\) の実効値フェーザは、大きさが実効値 \\(V_e = V_m/\\sqrt{2}\\)、偏角が \\(\\phi\\) となります。この問題では、最大値 \\(V_m = 50\\sqrt{2}\\)、位相 \\(\\phi=\\pi/4\\) なので、実効値は \\(V_e = 50\\sqrt{2}/\\sqrt{2} = 50\\) となります。よってフェーザは \\(50\\angle\\frac{\\pi}{4}\\) となり、指数形式では \\(50e^{j\\frac{\\pi}{4}}\\) です。正解は④です。</p>' },
            'q3e': { answer: '2', explanation: '<h3>解説 (3-e)</h3><p><strong>注：</strong>この問題は、位相が\\(-\\pi/3\\)のままだと選択肢に合う答えがありません。電気回路の問題ではよくあることですが、位相を\\(-\\pi/4\\)として解くことを想定している可能性が高いです。以下、\\(v(t) = 100\\cos(\\omega t - \\frac{\\pi}{4})\\)として解説します。<br>交流電圧のフェーザ表示では、\\(\\cos\\)を基準にするのが一般的です。最大値\\(V_m = 100\\)、位相\\(\\phi = -\\pi/4\\)です。実効値は\\(V_e = 100/\\sqrt{2}\\)です。実効値フェーザは\\(V_e \\angle \\phi = \\frac{100}{\\sqrt{2}}\\angle-\\frac{\\pi}{4}\\)となります。これを直交座標形式に変換すると、$$ \\frac{100}{\\sqrt{2}}(\\cos(-\\tfrac{\\pi}{4}) + j\\sin(-\\tfrac{\\pi}{4})) = \\frac{100}{\\sqrt{2}}(\\tfrac{1}{\\sqrt{2}} - j\\tfrac{1}{\\sqrt{2}}) = 50 - j50 $$ よって、正解は②です。</p>' },
            'q4a': { answer: '3', explanation: '<h3>解説 (4-a)</h3><p>これは変数分離形の1階線形微分方程式です。<br>$$ \\frac{dx}{dt} = -2x \\implies \\frac{1}{x} dx = -2 dt $$ 両辺を積分して、\\( \\ln|x| = -2t + C_1 \\)。<br>よって、\\( x(t) = e^{-2t+C_1} = C e^{-2t} \\)。この形の関数は③です。</p>' },
            'q4b': { answer: '3', explanation: '<h3>解説 (4-b)</h3><p>これは非斉次の1階線形微分方程式です。特殊解を定数 \\(x(t)=A\\) と仮定して代入すると、<br>$$ \\frac{d(A)}{dt} + 2A = 1 \\implies 0 + 2A = 1 \\implies A = 0.5 $$ よって、特殊解の一つが \\(x(t) = 0.5\\) です。正解は③です。</p>' },
            'q4c': { answer: '1', explanation: '<h3>解説 (4-c)</h3><p>これは単振動を表す2階線形微分方程式です。特性方程式は \\( \\lambda^2 + 1 = 0 \\)、解は \\( \\lambda = \\pm i \\) となります。<br>一般解は \\( x(t) = C_1 \\cos t + C_2 \\sin t \\) と表せます。この解の成分である \\( \\sin t \\) が選択肢にあるため、正解は①です。</p>' },
            'q4d': { answer: '2', explanation: '<h3>解説 (4-d)</h3><p>これはロジスティック方程式と呼ばれる変数分離形の微分方程式です。\\( x = \\frac{e^t}{1+e^t} \\)が解の一つです（詳細は2019年度の問題解説参照）。よって、正解は②です。</p>' },
            'q4e': { answer: '4', explanation: '<h3>解説 (4-e)</h3><p>これも変数分離形の微分方程式です。<br>$$ \\frac{dx}{dt} = -x^2 \\implies \\frac{dx}{x^2} = -dt $$ 両辺を積分すると、\\( -\\frac{1}{x} = -t + C \\)。\\(C=0\\)とすれば\\( x(t) = 1/t \\)。よって、正解は④です。</p>' },
            'q5a': { answer: '3', explanation: '<h3>解説 (5-a)</h3><p>2つのベクトル\\(\\mathbf{A}\\)と\\(\\mathbf{B}\\)の外積（ベクトル積）は \\(\\mathbf{A} \\times \\mathbf{B}\\) と表記されます。結果はベクトルになります。よって、正解は③です。</p>' },
            'q5b': { answer: '2', explanation: '<h3>解説 (5-b)</h3><p>ベクトル場\\(\\mathbf{A}\\)の発散 (divergence) は、ナブラ演算子\\(\\nabla\\)との内積で定義され、\\(\\nabla \\cdot \\mathbf{A}\\) と表記されます。結果はスカラーになります。よって、正解は②です。</p>' },
            'q5c': { answer: '3', explanation: '<h3>解説 (5-c)</h3><p>ベクトルの大きさは、各成分の二乗和の平方根で計算します。$$ |2\\mathbf{i}+\\mathbf{j}-2\\mathbf{k}| = \\sqrt{2^2 + 1^2 + (-2)^2} = \\sqrt{4+1+4} = \\sqrt{9} = 3 $$ よって、正解は③です。</p>' },
            'q5d': { answer: '2', explanation: '<h3>解説 (5-d)</h3><p>ベクトルの内積は、対応する成分同士の積の和で計算します。\\(\\mathbf{A} = (1, 2, -3), \\mathbf{B}=(0, 1, -2)\\)と見なせるので、$$ (1)(0) + (2)(1) + (-3)(-2) = 0 + 2 + 6 = 8 $$ よって、正解は②です。</p>' },
            'q5e': { answer: '1', explanation: '<h3>解説 (5-e)</h3><p>ベクトルの回転 (rotation) は、ナブラ演算子\\(\\nabla\\)との外積で計算されます。$$ \\begin{align} \\text{rot}(2x\\mathbf{i}+y\\mathbf{j}) &= \\nabla \\times (2x\\mathbf{i}+y\\mathbf{j}) \\\\ &= \\begin{vmatrix} \\mathbf{i} & \\mathbf{j} & \\mathbf{k} \\\\ \\frac{\\partial}{\\partial x} & \\frac{\\partial}{\\partial y} & \\frac{\\partial}{\\partial z} \\\\ 2x & y & 0 \\end{vmatrix} \\\\ &= \\mathbf{i}(0-0) - \\mathbf{j}(0-0) + \\mathbf{k}(0-0) = \\mathbf{0} \\end{align} $$ 結果はゼロベクトル\\(\\mathbf{0}\\)（またはスカラーの0）となります。よって、正解は①です。</p>' },
        };

        document.addEventListener('DOMContentLoaded', () => {
            const radioButtons = document.querySelectorAll('.options input[type="radio"]');

            radioButtons.forEach(radio => {
                radio.addEventListener('change', (event) => {
                    const selectedRadio = event.target;
                    const questionBlock = selectedRadio.closest('.question-block');
                    const qId = questionBlock.id;
                    const resultDiv = questionBlock.querySelector('.result');
                    const explanationDiv = questionBlock.querySelector('.explanation');
                    const optionsInBlock = questionBlock.querySelectorAll('input[type="radio"]');
                    const selectedLabel = selectedRadio.closest('label');

                    optionsInBlock.forEach(opt => {
                        opt.disabled = true;
                    });

                    const userAnswer = selectedRadio.value;
                    const quizInfo = quizData[qId];
                    const correctAnswer = quizInfo.answer;

                    explanationDiv.innerHTML = quizInfo.explanation;
                    explanationDiv.style.display = 'block';
                    
                    resultDiv.style.display = 'block';

                    if (userAnswer === correctAnswer) {
                        resultDiv.textContent = '正解！';
                        resultDiv.className = 'result correct';
                        selectedLabel.classList.add('selected', 'correct');
                    } else {
                        resultDiv.textContent = '不正解';
                        resultDiv.className = 'result incorrect';
                        selectedLabel.classList.add('selected', 'incorrect');
                    }
                    
                    if (window.MathJax) {
                        MathJax.typesetPromise([explanationDiv]).catch((err) => console.log('MathJax typeset failed: ', err));
                    }
                });
            });
        });
    </script>

</body>
</html>